(this["webpackJsonpreactjs-todos-web"]=this["webpackJsonpreactjs-todos-web"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var o=n(1),c=n.n(o),r=n(4),a=n.n(r),s=(n(16),n(2)),i=n(10),u=n(6),l=n(7),d=n(11),j=n(9),O=function(t){Object(d.a)(n,t);var e=Object(j.a)(n);function n(t){var o;Object(u.a)(this,n),(o=e.call(this)).storageName=t;var c=o.find();return o.save(c),o}return Object(l.a)(n,[{key:"save",value:function(t){localStorage.setItem(this.storageName,JSON.stringify(t))}},{key:"add",value:function(t){var e=localStorage.getItem(this.storageName)||"[]",n=JSON.parse(e),o=[].concat(Object(i.a)(n),[{completed:!1,text:t.text}]);return localStorage.setItem(this.storageName,JSON.stringify(o)),o}},{key:"find",value:function(){var t=localStorage.getItem(this.storageName)||"[]";return JSON.parse(t)}}]),n}(function(){function t(){Object(u.a)(this,t)}return Object(l.a)(t,[{key:"save",value:function(t){throw new Error("Abstract Method has no implementation")}},{key:"find",value:function(){throw new Error("Abstract Method has no implementation")}},{key:"remove",value:function(t){throw new Error("Abstract Method has no implementation")}}]),t}()),b=function(t){var e=new O(t);return{save:function(t){try{e.save(t)}catch(n){throw n}},find:function(){try{return e.find()}catch(t){throw t}},add:function(t){try{return e.add(t)}catch(n){throw n}}}},f=n(0),h=c.a.createContext(),m=function(t){var e=Object(o.useState)(!0),n=Object(s.a)(e,2),c=n[0],r=n[1],a=Object(o.useState)(null),i=Object(s.a)(a,2),u=i[0],l=i[1],d=b("TODOS").find,j=Object(o.useState)(""),O=Object(s.a)(j,2),m=O[0],x=O[1],p=Object(o.useState)(!1),v=Object(s.a)(p,2),g=v[0],S=v[1],y=[];try{setTimeout((function(){r(!1)}),1e3),y=d()}catch(A){l(A)}var N=Object(o.useState)(y),w=Object(s.a)(N,2),T=w[0],C=w[1],k=Object(o.useState)(T),D=Object(s.a)(k,2),M=D[0],E=D[1],I=M.filter((function(t){return t.completed})).length,J=M.length;return Object(o.useEffect)((function(){var t=T.filter((function(t){return t.text.toLowerCase().includes(m)}));t.length!==M.length&&E(t)}),[m]),Object(o.useEffect)((function(){E(T)}),[T]),Object(f.jsx)(h.Provider,{value:{loading:c,error:u,totalTodos:J,completedTodos:I,searchValue:m,setSearchValue:x,todosFiltered:M,setTodos:C,openModal:g,setOpenModal:S},children:t.children})},x=(n(18),function(){var t=Object(o.useContext)(h),e=t.totalTodos,n=t.completedTodos;return Object(f.jsxs)("h2",{className:"todo-counter",children:["You've completed ",n," of ",e," TODOs \u2705"]})}),p=(n(19),function(){var t=Object(o.useContext)(h),e=t.searchValue,n=t.setSearchValue;return Object(f.jsx)("input",{className:"todo-search",placeholder:"Search TODOs \ud83d\udcdd",value:e,onChange:function(t){n(t.target.value)}})}),v=(n(20),function(t){var e=t.children;return Object(f.jsx)("section",{children:Object(f.jsx)("ul",{children:e})})}),g=(n(21),function(t){var e=t.text,n=t.completed,o=t.onComplete;t.onDelete;return Object(f.jsxs)("li",{className:"todo-item",children:[Object(f.jsx)("span",{className:"icon icon-check ".concat(n&&"icon-check-active"),onClick:function(){return o(e,n)},children:"\u2705"}),Object(f.jsx)("p",{className:"todo-item-p ".concat(n&&"todo-item-p-complete"),children:e}),Object(f.jsx)("span",{className:"icon icon-pin",children:"\ud83d\udccc"})]})}),S=function(t){return function(t){var e=t.todos,n=t.setTodos;return e?e.map((function(t){var o=b("TODOS").save;return Object(f.jsx)(g,{text:t.text,completed:t.completed,onComplete:function(t,c){alert("You complete the todo ".concat(t));var r=e.map((function(e){return e.text===t?{text:t,completed:!c}:e}));n(r),o(r)},onDelete:function(t){var c=e.filter((function(e){return e.text!==t}));console.log(c),n(c),o(c)}},t.text)})):""}(t)},y=(n(22),function(t){var e=t.setOpenModal;return Object(f.jsx)("button",{className:"create-todo-button",type:"button",onClick:function(){return e((function(t){return!t}))},children:"+"})}),N=(n(23),function(t){var e=t.children;return a.a.createPortal(Object(f.jsx)("div",{className:"modal-background",children:e}),document.getElementById("modal"))}),w=(n(24),function(){var t=Object(o.useState)(""),e=Object(s.a)(t,2),n=e[0],c=e[1],r=b("TODOS").add,a=Object(o.useContext)(h),i=a.setTodos,u=a.setOpenModal;return Object(f.jsxs)("form",{onSubmit:function(t){t.preventDefault();var e=r({text:n});i(e),u(!1)},children:[Object(f.jsx)("label",{children:"Write your new TODO \u2705"}),Object(f.jsx)("textarea",{value:n,onChange:function(t){c(t.target.value)},placeholder:"Add a description of your TODO \ud83d\udcdd"}),Object(f.jsxs)("div",{className:"todo-form-button-container",children:[Object(f.jsx)("button",{type:"submit",className:"todo-form-button todo-form-button-add",children:"Save \ud83d\udcbe"}),Object(f.jsx)("button",{type:"button",className:"todo-form-button todo-form-button-cancel",onClick:function(){u(!1)},children:"Cancel"})]})]})}),T=function(){return Object(f.jsxs)(o.Fragment,{children:[Object(f.jsx)(x,{}),Object(f.jsx)(p,{}),Object(f.jsx)(h.Consumer,{children:function(t){var e=t.loading,n=t.error,o=t.todosFiltered,c=t.setTodos;return Object(f.jsxs)(v,{children:[n&&Object(f.jsx)("p",{children:"Something was wrong"}),e&&Object(f.jsx)("p",{children:"Loading..."}),!e&&!o.length&&Object(f.jsx)("p",{children:"Create your first TODO"}),!e&&o&&Object(f.jsx)(S,{todos:o,setTodos:c})]})}}),Object(f.jsx)(h.Consumer,{children:function(t){var e=t.openModal,n=t.setOpenModal;return Object(f.jsxs)(o.Fragment,{children:[Object(f.jsx)(y,{setOpenModal:n}),!!e&&Object(f.jsx)(N,{openModal:e,children:Object(f.jsx)(w,{})})]})}})]})},C=function(){return Object(f.jsx)(m,{children:Object(f.jsx)(T,{})})};a.a.render(Object(f.jsx)(C,{}),document.getElementById("root"))}],[[25,1,2]]]);
//# sourceMappingURL=main.3b9c45c2.chunk.js.map