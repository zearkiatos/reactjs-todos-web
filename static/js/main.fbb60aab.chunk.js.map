{"version":3,"sources":["components/TodoList/index.js","components/TodoItem/index.js","Todos/Infrastructure/LocalStorageTodosRespository.js","Todos/Domain/TodosRepository.js","hooks/useTodosLocalStorageRepository/index.js","constants/index.js","components/TodoItems/index.js","components/CreateTodoButton/index.js","types/todosTypes.js","hooks/useTodos/index.js","components/Modal/index.js","components/TodosForm/index.js","components/Error/index.js","components/Loading/index.js","components/EmptyTodos/index.js","components/TodoCounter/index.js","components/TodoSearch/index.js","components/TodoHeader/index.js","components/StorageChangeAlert/withStorageListener.js","components/Refresh/index.js","components/StorageChangeAlert/index.js","components/App.js","index.js"],"names":["TodoList","children","error","loading","showEmptyTodos","showRender","showEmptySearchResults","onError","onLoading","onEmptyTodos","onEmptySearchResults","render","className","TodoItem","text","completed","onComplete","onDelete","onClick","LocalStorageTodosRepository","storageName","todosStorage","find","save","todos","localStorage","setItem","this","JSON","stringify","todo","getItem","todosParsed","parse","newTodos","Error","useTodosLocalStorageRepository","itemName","localStorageTodosRepository","ex","add","constants","STORAGE_NAME","TodoItems","props","onSave","map","alert","todoMapped","filter","console","log","renderTodoItems","CreateTodoButton","onOpenModal","type","prevState","TODOS_TYPES","ERROR","SUCCESS","LOADING","SYNCHRONIZATION","FILTER","COUNT","SEARCH","SAVE","OPEN_MODAL","useTodos","addTodos","useReducer","reducer","searchValue","openModal","totalTodos","sincronizedItems","todosFound","todosFiltered","state","dispatch","payload","isLoading","onFilter","setTimeout","useEffect","completedTodos","length","toLowerCase","includes","onCount","states","sincronize","stateUpdaters","onSearchValue","value","open","action","reducerObject","Modal","ReactDOM","createPortal","document","getElementById","TodosForm","useState","newTodo","setTodo","onSubmit","event","preventDefault","onChange","target","placeholder","message","Loading","quantity","skeletons","item","push","renderLoading","EmptyTodos","TodoCounter","TodoSearch","disabled","TodoHeader","React","Children","toArray","child","cloneElement","withStorageListener","WrappedComponent","sincronizeTodos","storageChange","setStorageChange","window","addEventListener","change","key","show","toggleShow","Refresh","ChangeAlertWithStorageListener","App"],"mappings":"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","file":"static/js/main.fbb60aab.chunk.js","sourcesContent":["import \"./todoList.css\";\nconst TodoList = ({\n  children,\n  error,\n  loading,\n  showEmptyTodos,\n  showRender,\n  showEmptySearchResults,\n  onError,\n  onLoading,\n  onEmptyTodos,\n  onEmptySearchResults,\n  render\n}) => {\n  return (\n    <section className=\"todolist-container\">\n      {error && onError()}\n      {loading && onLoading()}\n      {showEmptyTodos && onEmptyTodos()}\n      {showEmptySearchResults && onEmptySearchResults()}\n      {showRender && render()}\n      <ul>{children}</ul>\n    </section>\n  );\n};\n\nexport default TodoList;\n","import React from \"react\";\nimport \"./todoItem.css\";\nconst TodoItem = ({ text, completed, onComplete, onDelete }) => {\n  return (\n    <li className=\"todo-item\">\n      <span\n        className={`icon icon-check ${completed && \"icon-check-active\"}`}\n        onClick={() => onComplete(text, completed)}\n      >\n        ✅\n      </span>\n      <p className={`todo-item-p ${completed && \"todo-item-p-complete\"}`}>\n        {text}\n      </p>\n      <span className=\"icon icon-pin\"\n        onClick={() => onDelete(text)}>\n        📌\n      </span>\n    </li>\n  );\n};\n\nexport default TodoItem;\n","import TodosRepository from \"../Domain/TodosRepository\";\nclass LocalStorageTodosRepository extends TodosRepository {\n    constructor(storageName) {\n        super()\n        this.storageName = storageName;\n        const todosStorage = this.find();\n        this.save(todosStorage);\n    }\n\n    save(todos) {\n        localStorage.setItem(this.storageName, JSON.stringify(todos));\n    }\n\n    add(todo) {\n        const todos = localStorage.getItem(this.storageName) || '[]';\n        const todosParsed = JSON.parse(todos);\n        const newTodos = [...todosParsed, {\n            completed: false,\n            text: todo.text\n        }];\n        localStorage.setItem(this.storageName, JSON.stringify(newTodos));\n        return newTodos;\n    }\n\n    find() {\n        const todos = localStorage.getItem(this.storageName) || '[]';\n        const todosParsed = JSON.parse(todos);\n        return todosParsed;\n    }\n}\n\nexport default LocalStorageTodosRepository;","class TodosRepository {\n  save(todo) {\n    throw new Error(\"Abstract Method has no implementation\");\n  }\n\n  find() {\n    throw new Error(\"Abstract Method has no implementation\");\n  }\n\n  remove(todo) {\n    throw new Error(\"Abstract Method has no implementation\");\n  }\n}\n\nexport default TodosRepository;\n","import LocalStorageTodosRepository from \"../../Todos/Infrastructure/LocalStorageTodosRespository\";\n\nconst useTodosLocalStorageRepository = (itemName) => {\n  let localStorageTodosRepository = new LocalStorageTodosRepository(itemName);\n  const save = (todos) => {\n    try {\n      localStorageTodosRepository.save(todos);\n    } catch (ex) {\n      throw ex;\n    }\n  };\n\n  const add = (todo) => {\n    try {\n      const newTodos = localStorageTodosRepository.add(todo);\n      return newTodos;\n    } catch (ex) {\n      throw ex;\n    }\n  }\n\n  const find = () => {\n    try {\n      const todos = localStorageTodosRepository.find();\n      return todos;\n    } catch (ex) {\n      throw ex;\n    }\n  }\n\n\n  return { save, find, add };\n};\n\nexport default useTodosLocalStorageRepository;\n","const constants = {\n    STORAGE_NAME: 'TODOS'\n}\n\nexport default constants;","import React from \"react\";\nimport TodoItem from \"../TodoItem\";\nimport useTodosLocalStorageRepository from '../../hooks/useTodosLocalStorageRepository';\nimport constants from '../../constants'\n\nconst renderTodoItems = ({ todos, onSave }) =>\n  todos\n    ? todos.map((todo) => {\n        const { save } = useTodosLocalStorageRepository(constants.STORAGE_NAME);\n        const onComplete = (text, completed) => {\n          alert(`You complete the todo ${text}`);\n          const todoMapped = todos.map((todo) =>\n            todo.text === text\n              ? {\n                  text,\n                  completed: !completed,\n                }\n              : todo\n          );\n          onSave(todoMapped);\n          save(todoMapped);\n        };\n\n        const onDelete = (text) => {\n          let newTodos = todos.filter((todo) => todo.text !== text);\n          console.log(newTodos);\n          onSave(newTodos);\n          save(newTodos);\n        };\n\n        return (\n          <TodoItem\n            key={todo.text}\n            text={todo.text}\n            completed={todo.completed}\n            onComplete={onComplete}\n            onDelete={onDelete}\n          />\n        );\n      })\n    : \"\";\n\nconst TodoItems = (props) => renderTodoItems(props);\n\nexport default TodoItems;\n","import React from \"react\";\nimport \"./createTodoButton.css\";\nconst CreateTodoButton = ({ onOpenModal }) => {\n  const onClick = () => onOpenModal(prevState => !prevState);\n  return (\n    <button\n      className=\"create-todo-button\"\n      type=\"button\"\n      onClick={onClick}\n    >\n      +\n    </button>\n  );\n};\n\nexport default CreateTodoButton;\n","const TODOS_TYPES = {\n    ERROR: 'ERROR',\n    SUCCESS: 'SUCCESS',\n    LOADING: 'LOADING',\n    SYNCHRONIZATION: \"SYNCHRONIZATION\",\n    FILTER: \"FILTER\",\n    COUNT: \"COUNT\",\n    SEARCH: \"SEARCH\",\n    SAVE: \"SAVE\",\n    OPEN_MODAL: \"OPEN_MODAL\"\n};\n\nexport default TODOS_TYPES;","import { useEffect, useReducer } from \"react\";\nimport useTodosLocalStorageRepository from \"../useTodosLocalStorageRepository\";\nimport constants from \"../../constants\";\nimport { TODOS_TYPES } from \"../../types\";\nconst FAKE_LOADING_TIMER = 5000;\n\nconst useTodos = () => {\n  const { add: addTodos, find } = useTodosLocalStorageRepository(\n    constants.STORAGE_NAME\n  );\n  const initialState = {\n    loading: true,\n    error: null,\n    searchValue: \"\",\n    openModal: false,\n    totalTodos: 0,\n    sincronizedItems: true,\n    todosFound: [],\n    todosFiltered: [],\n    todos: []\n  };\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const onError = (error) =>\n    dispatch({\n      type: TODOS_TYPES.ERROR,\n      payload: error\n    });\n  const onSuccess = (filteredItem) => {\n    dispatch({\n      type: TODOS_TYPES.SUCCESS,\n      payload: filteredItem\n    });\n  };\n\n  const onLoading = (isLoading) => {\n    dispatch({\n      type: TODOS_TYPES.LOADING,\n      payload: isLoading\n    });\n  };\n\n  const onSynchronization = () => {\n    dispatch({\n      type: TODOS_TYPES.SYNCHRONIZATION\n    });\n  };\n\n  const onFilter = (todosFiltered) => {\n    dispatch({\n      type: TODOS_TYPES.FILTER,\n      payload: todosFiltered\n    });\n  };\n\n  const onCount = (totalTodos) => {\n    dispatch({\n      type: TODOS_TYPES.COUNT,\n      payload: totalTodos\n    });\n  };\n\n  const onSearchValue = (value) => {\n    dispatch({\n      type: TODOS_TYPES.SEARCH,\n      payload: value\n    });\n  };\n\n  const onSave = (todos) => {\n    dispatch({\n      type: TODOS_TYPES.SAVE,\n      payload: todos\n    });\n  };\n\n  const onOpenModal = (open) => {\n    dispatch({\n      type: TODOS_TYPES.OPEN_MODAL,\n      payload: open\n    });\n  };\n\n  const {\n    loading,\n    error,\n    searchValue,\n    openModal,\n    totalTodos,\n    sincronizedItems,\n    todos,\n    todosFiltered\n  } = state;\n\n  let todosFound = [];\n  try {\n    setTimeout(() => {\n      onLoading();\n    }, FAKE_LOADING_TIMER);\n    todosFound = find();\n  } catch (ex) {\n    onError(ex);\n  }\n  useEffect(() => {\n    try {\n      setTimeout(() => {\n        onLoading(false);\n      }, FAKE_LOADING_TIMER);\n      todosFound = find();\n      onSuccess(todosFound);\n    } catch (ex) {\n      onError(ex);\n    }\n  }, [sincronizedItems]);\n\n\n  let completedTodos = todosFiltered.filter((todo) => todo.completed).length;\n\n  useEffect(() => {\n    const todosFound = todos.filter((todo) =>\n      todo.text.toLowerCase().includes(searchValue.toLowerCase())\n    );\n\n    if (todosFound.length !== todosFiltered.length) {\n      onFilter(todosFound);\n    }\n  }, [searchValue]);\n\n  useEffect(() => {\n    todosFound = find();\n    onFilter(todosFound);\n  }, [todos]);\n\n  useEffect(() => {\n    onCount(todosFiltered.length);\n  }, [todosFiltered]);\n\n  const sincronize = () => {\n    onSynchronization();\n  };\n\n  const states = {\n    loading,\n    error,\n    totalTodos,\n    todos,\n    completedTodos,\n    searchValue,\n    todosFiltered,\n    openModal,\n    sincronize,\n  };\n\n  const stateUpdaters = {\n    onSearchValue,\n    onSave,\n    onOpenModal,\n    addTodos,\n  };\n\n  return {\n    states,\n    stateUpdaters\n  };\n};\n\nconst reducerObject = (state, payload) => ({\n  [TODOS_TYPES.ERROR]: {\n    ...state,\n    error: true\n  },\n  [TODOS_TYPES.SUCCESS]: {\n    ...state,\n    loading: false,\n    error: false,\n    sincronizedItems: true,\n    todosFiltered: payload\n  },\n  [TODOS_TYPES.LOADING]: {\n    ...state,\n    loading: payload\n  },\n  [TODOS_TYPES.SYNCHRONIZATION]: {\n    ...state,\n    loading: true,\n    sincronizedItems: false\n  },\n  [TODOS_TYPES.FILTER]: {\n    ...state,\n    todosFiltered: payload\n  },\n  [TODOS_TYPES.SEARCH]: {\n    ...state,\n    searchValue: payload\n  },\n  [TODOS_TYPES.SAVE]: {\n    ...state,\n    todos: payload\n  },\n  [TODOS_TYPES.COUNT]: {\n    ...state,\n    totalTodos: payload\n  },\n  [TODOS_TYPES.OPEN_MODAL]: {\n    ...state,\n    openModal: payload\n  }\n});\n\nconst reducer = (state, action) =>\n  reducerObject(state, action.payload)[action.type] || state;\n\nexport { useTodos };\n","import ReactDOM from \"react-dom\";\nimport './Modal.css'\n\nconst Modal = ({ children }) => (ReactDOM.createPortal(\n    <div className=\"modal-background\">\n        {children}\n    </div>, document.getElementById(\"modal\")));\n\n\n\nexport default Modal;\n","import { useState } from 'react';\nimport './TodoForm.css'\n\nconst TodosForm = ({\n    onSave,\n    onOpenModal,\n    addTodos\n} ) => {\n    const [newTodo, setTodo] = useState('');\n    const onCancel = () => {\n        onOpenModal(false);\n    };\n    const onSubmit = (event) => {\n        event.preventDefault();\n        const todos = addTodos({\n            text: newTodo\n        });\n        onSave(todos);\n        onOpenModal(false);\n    };\n\n    const onChange = (event) => {\n        setTodo(event.target.value);\n    };\n    return (\n        <form onSubmit={onSubmit}>\n            <label>Write your new TODO ✅</label>\n            <textarea\n                value={newTodo}\n                onChange={onChange}\n                placeholder=\"Add a description of your TODO 📝\"\n            />\n            <div className=\"todo-form-button-container\">\n                <button type=\"submit\" className=\"todo-form-button todo-form-button-add\">Save 💾</button>\n                <button type=\"button\" className=\"todo-form-button todo-form-button-cancel\" onClick={onCancel}>Cancel</button>\n            </div>\n        </form>\n    );\n}\n\nexport default TodosForm;","import { Fragment } from 'react';\nimport './Error.css';\nconst Error = ({ error }) => {\n    return (\n        <Fragment>\n            <h1>Boom! 💣 Something was wrong! 😱...Try again</h1>\n            {error && <div className=\"error-container\">\n                <h3>\n                    Some error description\n                </h3>\n                {error.message && <p>\n                    {error.message}\n                </p>}\n            </div>}\n        </Fragment>\n    )\n}\n\nexport default Error;","import './Loading.css';\nconst Loading = ({ quantity = 3}) => {\n    const renderLoading = () => {\n        const skeletons = [];\n        for (let item = 0; item < quantity; item++) {\n            skeletons.push(<div className=\"loading-container\">\n                <span className=\"complete-icon\">\n                </span>\n                <p className=\"text\">Loading...</p>\n                <span className=\"delete-icon\">\n                </span>\n            </div>)\n        }\n        return skeletons;\n    }\n    return renderLoading();\n}\n\nexport default Loading;","import './EmptyTodos.css';\nconst EmptyTodos = ({ children }) => {\n    return (\n        <div>{children}</div>\n    );\n}\n\nexport default EmptyTodos;","import React from \"react\";\nimport \"./todoCounter.css\";\n\nconst TodoCounter = ({ totalTodos, completedTodos, loading }) => {\n  return (\n    <h2 className={`todo-counter ${loading ? 'loading' : ''}`}>\n      You've completed {completedTodos} of {totalTodos} TODOs ✅\n    </h2>\n  );\n};\n\nexport default TodoCounter;\n","import React from \"react\";\nimport \"./todoSearch.css\";\nconst TodoSearch = ({ searchValue, onSearchValue, loading }) => {\n  const onSearchValueChange = (event) => {\n    onSearchValue(event.target.value);\n  };\n  return (\n    <input\n      className=\"todo-search\"\n      placeholder=\"Search TODOs 📝\"\n      value={searchValue}\n      onChange={onSearchValueChange}\n      disabled={loading}\n    />\n  );\n};\n\nexport default TodoSearch;\n","import React from 'react';\nconst TodoHeader = ({ children, loading }) => {\n    const renderChildren = () => {\n        const childrenFormated = React.Children.toArray(children);\n        return childrenFormated.map(child => React.cloneElement(child, {loading}));\n    };\n    return (\n        <header>\n            {renderChildren()}\n        </header>\n    );\n}\n\nexport default TodoHeader;","import { useState } from \"react\";\nimport constants from '../../constants'\n\nconst withStorageListener = (WrappedComponent) => {\n  return function WrapperComponentWithStorageListener({ sincronizeTodos }) {\n    const [storageChange, setStorageChange] = useState(false);\n    window.addEventListener('storage', (change) => {\n        if(change.key === constants.STORAGE_NAME) {\n            console.log(`It was change in ${constants.STORAGE_NAME}`);\n            setStorageChange(true)\n        }\n    });\n    const toggleShow = () => {\n        sincronizeTodos();\n        setStorageChange(false);\n    }\n    return (\n        <WrappedComponent \n            show={storageChange}\n            toggleShow={toggleShow}\n        />\n    );\n  };\n};\n\n\nexport default withStorageListener;\n","import './Refresh.css'\n\nconst Refresh = ({ onClick }) => {\n    return (\n        <div className=\"refresh-container\">\n        <p>Was Something changed?</p>\n        <button className=\"refresh-button\" onClick={onClick}>\n            Refresh 🔃\n        </button>\n      </div>\n    );\n}\n\n\n\nexport default Refresh;","import React from \"react\";\nimport withStorageListener from \"./withStorageListener\";\nimport Refresh from \"../Refresh\";\nimport Modal from '../Modal';\n\nconst StorageChangeAlert = ({ show, toggleShow }) => {\n  if (show) {\n    const onClickHandle = () => {\n      toggleShow();\n    };\n    return (\n      <Modal openModal={show}>\n        <Refresh onClick={onClickHandle} />\n      </Modal>\n    );\n  } else {\n    return null;\n  }\n};\n\nconst ChangeAlertWithStorageListener = withStorageListener(StorageChangeAlert);\n\nexport { StorageChangeAlert, ChangeAlertWithStorageListener };\n","import React, { Fragment } from \"react\";\nimport TodoList from \"./TodoList\";\nimport TodoItems from \"./TodoItems\";\nimport CreateTodoButton from \"./CreateTodoButton\";\nimport { useTodos } from \"../hooks/useTodos\";\nimport Modal from \"./Modal\";\nimport TodosForm from \"./TodosForm\";\nimport Error from \"./Error\";\nimport Loading from \"./Loading\";\nimport EmptyTodos from \"./EmptyTodos\";\nimport TodoCounter from \"./TodoCounter\";\nimport TodoSearch from \"./TodoSearch\";\nimport TodoHeader from \"./TodoHeader\";\nimport { ChangeAlertWithStorageListener } from \"./StorageChangeAlert\";\n\nconst App = () => {\n  const { states, stateUpdaters } = useTodos();\n\n  const {\n    loading,\n    error,\n    totalTodos,\n    todos,\n    completedTodos,\n    searchValue,\n    sincronize: sincronizeTodos,\n    todosFiltered,\n    openModal\n  } = states;\n\n  const { \n    onSave,\n    onSearchValue,\n    onOpenModal,\n    addTodos \n  } = stateUpdaters;\n  return (\n    <Fragment>\n      <TodoHeader loading={loading}>\n        <TodoCounter totalTodos={totalTodos} completedTodos={completedTodos} />\n        <TodoSearch searchValue={searchValue} onSearchValue={onSearchValue} />\n      </TodoHeader>\n      <TodoList\n        error={error}\n        loading={loading}\n        showEmptyTodos={!loading && !todos.length}\n        showRender={!loading && todosFiltered}\n        showEmptySearchResults={!totalTodos && todos.length}\n        onError={() => <Error error={error} />}\n        onLoading={() => <Loading quantity=\"5\" />}\n        onEmptyTodos={() => (\n          <EmptyTodos>\n            {\" \"}\n            <p>Create your first TODO</p>{\" \"}\n          </EmptyTodos>\n        )}\n        onEmptySearchResults={() => (\n          <EmptyTodos>\n            <p>There is not result for: {searchValue} </p>\n          </EmptyTodos>\n        )}\n        render={() => <TodoItems todos={todosFiltered} onSave={onSave} />}\n      />\n      <CreateTodoButton onOpenModal={onOpenModal} />\n      {!!openModal && (\n        <Modal openModal={openModal}>\n          <TodosForm\n            onSave={onSave}\n            onOpenModal={onOpenModal}\n            addTodos={addTodos}\n          />\n        </Modal>\n      )}\n      <ChangeAlertWithStorageListener sincronizeTodos={sincronizeTodos} />\n    </Fragment>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}