{"version":3,"sources":["components/TodoList/index.js","components/TodoItem/index.js","Todos/Infrastructure/LocalStorageTodosRespository.js","Todos/Domain/TodosRepository.js","hooks/useTodosLocalStorageRepository/index.js","components/TodoItems/index.js","components/CreateTodoButton/index.js","components/Modal/index.js","components/TodosForm/index.js","components/Error/index.js","components/Loading/index.js","components/EmptyTodos/index.js","components/TodoCounter/index.js","components/TodoSearch/index.js","components/TodoHeader/index.js","components/App.js","hooks/useTodos/index.js","index.js"],"names":["TodoList","children","TodoItem","text","completed","onComplete","onDelete","className","onClick","LocalStorageTodosRepository","storageName","todosStorage","find","save","todos","localStorage","setItem","this","JSON","stringify","todo","getItem","todosParsed","parse","newTodos","Error","useTodosLocalStorageRepository","itemName","localStorageTodosRepository","ex","add","TodoItems","props","setTodos","map","alert","todoMapped","filter","console","log","renderTodoItems","CreateTodoButton","setOpenModal","type","prevState","Modal","ReactDOM","createPortal","document","getElementById","TodosForm","addTodos","useState","newTodo","setTodo","onSubmit","event","preventDefault","value","onChange","target","placeholder","error","message","Loading","quantity","skeletons","item","push","renderLoading","EmptyTodos","TodoCounter","totalTodos","completedTodos","TodoSearch","searchValue","setSearchValue","TodoHeader","App","loading","setLoading","setError","openModal","setTotalTodos","todosFound","setTimeout","todosFiltered","setTodosFiltered","length","useEffect","toLowerCase","includes","useTodos","render"],"mappings":"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","file":"static/js/main.6554db2f.chunk.js","sourcesContent":["import \"./todoList.css\";\nconst TodoList = ({ children }) => {\n  return (\n    <section>\n      <ul>{children}</ul>\n    </section>\n  );\n};\n\nexport default TodoList;\n","import React from \"react\";\nimport \"./todoItem.css\";\nconst TodoItem = ({ text, completed, onComplete, onDelete }) => {\n  return (\n    <li className=\"todo-item\">\n      <span\n        className={`icon icon-check ${completed && \"icon-check-active\"}`}\n        onClick={() => onComplete(text, completed)}\n      >\n        âœ…\n      </span>\n      <p className={`todo-item-p ${completed && \"todo-item-p-complete\"}`}>\n        {text}\n      </p>\n      <span className=\"icon icon-pin\"\n        onClick={() => onDelete(text)}>\n        ðŸ“Œ\n      </span>\n    </li>\n  );\n};\n\nexport default TodoItem;\n","import TodosRepository from \"../Domain/TodosRepository\";\nclass LocalStorageTodosRepository extends TodosRepository {\n    constructor(storageName) {\n        super()\n        this.storageName = storageName;\n        const todosStorage = this.find();\n        this.save(todosStorage);\n    }\n\n    save(todos) {\n        localStorage.setItem(this.storageName, JSON.stringify(todos));\n    }\n\n    add(todo) {\n        const todos = localStorage.getItem(this.storageName) || '[]';\n        const todosParsed = JSON.parse(todos);\n        const newTodos = [...todosParsed, {\n            completed: false,\n            text: todo.text\n        }];\n        localStorage.setItem(this.storageName, JSON.stringify(newTodos));\n        return newTodos;\n    }\n\n    find() {\n        const todos = localStorage.getItem(this.storageName) || '[]';\n        const todosParsed = JSON.parse(todos);\n        return todosParsed;\n    }\n}\n\nexport default LocalStorageTodosRepository;","class TodosRepository {\n  save(todo) {\n    throw new Error(\"Abstract Method has no implementation\");\n  }\n\n  find() {\n    throw new Error(\"Abstract Method has no implementation\");\n  }\n\n  remove(todo) {\n    throw new Error(\"Abstract Method has no implementation\");\n  }\n}\n\nexport default TodosRepository;\n","import LocalStorageTodosRepository from \"../../Todos/Infrastructure/LocalStorageTodosRespository\";\n\nconst useTodosLocalStorageRepository = (itemName) => {\n  let localStorageTodosRepository = new LocalStorageTodosRepository(itemName);\n  const save = (todos) => {\n    try {\n      localStorageTodosRepository.save(todos);\n    } catch (ex) {\n      throw ex;\n    }\n  };\n\n  const add = (todo) => {\n    try {\n      const newTodos = localStorageTodosRepository.add(todo);\n      return newTodos;\n    } catch (ex) {\n      throw ex;\n    }\n  }\n\n  const find = () => {\n    try {\n      const todos = localStorageTodosRepository.find();\n      return todos;\n    } catch (ex) {\n      throw ex;\n    }\n  }\n\n\n  return { save, find, add };\n};\n\nexport default useTodosLocalStorageRepository;\n","import React from \"react\";\nimport TodoItem from \"../TodoItem\";\nimport useTodosLocalStorageRepository from '../../hooks/useTodosLocalStorageRepository';\n\nconst renderTodoItems = ({ todos, setTodos }) =>\n  todos\n    ? todos.map((todo) => {\n        const { save } = useTodosLocalStorageRepository(\"TODOS\");\n        const onComplete = (text, completed) => {\n          alert(`You complete the todo ${text}`);\n          const todoMapped = todos.map((todo) =>\n            todo.text === text\n              ? {\n                  text,\n                  completed: !completed,\n                }\n              : todo\n          );\n          setTodos(todoMapped);\n          save(todoMapped);\n        };\n\n        const onDelete = (text) => {\n          let newTodos = todos.filter((todo) => todo.text !== text);\n          console.log(newTodos);\n          setTodos(newTodos);\n          save(newTodos);\n        };\n\n        return (\n          <TodoItem\n            key={todo.text}\n            text={todo.text}\n            completed={todo.completed}\n            onComplete={onComplete}\n            onDelete={onDelete}\n          />\n        );\n      })\n    : \"\";\n\nconst TodoItems = (props) => renderTodoItems(props);\n\nexport default TodoItems;\n","import React from \"react\";\nimport \"./createTodoButton.css\";\nconst CreateTodoButton = ({ setOpenModal }) => {\n  const onClick = () => setOpenModal(prevState => !prevState);\n  return (\n    <button\n      className=\"create-todo-button\"\n      type=\"button\"\n      onClick={onClick}\n    >\n      +\n    </button>\n  );\n};\n\nexport default CreateTodoButton;\n","import ReactDOM from \"react-dom\";\nimport './Modal.css'\n\nconst Modal = ({ children }) => (ReactDOM.createPortal(\n    <div className=\"modal-background\">\n        {children}\n    </div>, document.getElementById(\"modal\")));\n\n\n\nexport default Modal;\n","import { useState } from 'react';\nimport useTodosLocalStorageRepository from '../../hooks/useTodosLocalStorageRepository';\nimport './TodoForm.css'\n\nconst TodosForm = ({\n    setTodos,\n    setOpenModal,\n    addTodos\n} ) => {\n    const [newTodo, setTodo] = useState('');\n    const onCancel = () => {\n        setOpenModal(false);\n    };\n    const onSubmit = (event) => {\n        event.preventDefault();\n        const todos = addTodos({\n            text: newTodo\n        });\n        setTodos(todos);\n        setOpenModal(false);\n    };\n\n    const onChange = (event) => {\n        setTodo(event.target.value);\n    };\n    return (\n        <form onSubmit={onSubmit}>\n            <label>Write your new TODO âœ…</label>\n            <textarea\n                value={newTodo}\n                onChange={onChange}\n                placeholder=\"Add a description of your TODO ðŸ“\"\n            />\n            <div className=\"todo-form-button-container\">\n                <button type=\"submit\" className=\"todo-form-button todo-form-button-add\">Save ðŸ’¾</button>\n                <button type=\"button\" className=\"todo-form-button todo-form-button-cancel\" onClick={onCancel}>Cancel</button>\n            </div>\n        </form>\n    );\n}\n\nexport default TodosForm;","import { Fragment } from 'react';\nimport './Error.css';\nconst Error = ({ error }) => {\n    return (\n        <Fragment>\n            <h1>Boom! ðŸ’£ Something was wrong! ðŸ˜±...Try again</h1>\n            {error && <div className=\"error-container\">\n                <h3>\n                    Some error description\n                </h3>\n                {error.message && <p>\n                    {error.message}\n                </p>}\n            </div>}\n        </Fragment>\n    )\n}\n\nexport default Error;","import './Loading.css';\nconst Loading = ({ quantity = 3}) => {\n    const renderLoading = () => {\n        const skeletons = [];\n        for (let item = 0; item < quantity; item++) {\n            skeletons.push(<div className=\"loading-container\">\n                <span className=\"complete-icon\">\n                </span>\n                <p className=\"text\">Loading...</p>\n                <span className=\"delete-icon\">\n                </span>\n            </div>)\n        }\n        return skeletons;\n    }\n    return renderLoading();\n}\n\nexport default Loading;","import './EmptyTodos.css';\nconst EmptyTodos = () => {\n    return <p>Create your first TODO</p>;\n}\n\nexport default EmptyTodos;","import React from \"react\";\nimport \"./todoCounter.css\";\n\nconst TodoCounter = ({ totalTodos, completedTodos }) => {\n  return (\n    <h2 className=\"todo-counter\">\n      You've completed {completedTodos} of {totalTodos} TODOs âœ…\n    </h2>\n  );\n};\n\nexport default TodoCounter;\n","import React from \"react\";\nimport \"./todoSearch.css\";\nconst TodoSearch = ({ searchValue, setSearchValue }) => {\n  const onSearchValueChange = (event) => {\n    setSearchValue(event.target.value);\n  };\n  return (\n    <input\n      className=\"todo-search\"\n      placeholder=\"Search TODOs ðŸ“\"\n      value={searchValue}\n      onChange={onSearchValueChange}\n    />\n  );\n};\n\nexport default TodoSearch;\n","const TodoHeader = ({ children }) => {\n    return (\n        <header>\n            {children}\n        </header>\n    )\n}\n\nexport default TodoHeader;","import React, { Fragment } from \"react\";\nimport TodoList from \"./TodoList\";\nimport TodoItems from \"./TodoItems\";\nimport CreateTodoButton from \"./CreateTodoButton\";\nimport { useTodos } from \"../hooks/useTodos\";\nimport Modal from './Modal';\nimport TodosForm from \"./TodosForm\";\nimport Error from './Error';\nimport Loading from './Loading';\nimport EmptyTodos from './EmptyTodos';\nimport TodoCounter from \"./TodoCounter\";\nimport TodoSearch from \"./TodoSearch\";\nimport TodoHeader from \"./TodoHeader\";\n\nconst App = () => {\n  const {\n    totalTodos,\n    completedTodos,\n    searchValue,\n    setSearchValue,\n    loading,\n    error,\n    todosFiltered,\n    setTodos,\n    openModal,\n    setOpenModal,\n    addTodos\n  } = useTodos();\n  return (\n    <Fragment>\n      <TodoHeader>\n        <TodoCounter\n          totalTodos={totalTodos}\n          completedTodos={completedTodos}\n        />\n        <TodoSearch\n          searchValue={searchValue}\n          setSearchValue={setSearchValue}\n        />\n      </TodoHeader>\n      <TodoList>\n        {error && <Error error={error} />}\n        {loading && <Loading quantity=\"5\" />}\n        {!loading && !todosFiltered.length && <EmptyTodos />}\n        {!loading && todosFiltered && <TodoItems todos={todosFiltered} setTodos={setTodos} />}\n      </TodoList>\n      <CreateTodoButton setOpenModal={setOpenModal} />\n      {!!openModal && <Modal openModal={openModal}>\n        <TodosForm\n          setTodos={setTodos}\n          setOpenModal={setOpenModal}\n          addTodos={addTodos}\n        />\n      </Modal>}\n\n    </Fragment>\n  );\n};\n\nexport default App;\n","import { useState, useEffect } from \"react\";\nimport useTodosLocalStorageRepository from \"../useTodosLocalStorageRepository\";\nconst FAKE_LOADING_TIMER = 5000;\n\nconst useTodos = () => {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const { add: addTodos, find } = useTodosLocalStorageRepository(\"TODOS\");\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [openModal, setOpenModal] = useState(false);\n  const [totalTodos, setTotalTodos] = useState(0);\n  let todosFound = [];\n  try {\n    setTimeout(() => {\n      setLoading(false);\n    }, FAKE_LOADING_TIMER);\n    todosFound = find();\n  }\n  catch (ex) {\n    setError(ex);\n  }\n  const [todos, setTodos] = useState(todosFound);\n\n  const [todosFiltered, setTodosFiltered] = useState(todos);\n\n  let completedTodos = todosFiltered.filter((todo) => todo.completed).length;\n\n  useEffect(() => {\n    const todosFound = todos.filter((todo) =>\n      todo.text.toLowerCase().includes(searchValue.toLowerCase())\n    );\n\n    if (todosFound.length !== todosFiltered.length) {\n      setTodosFiltered(todosFound);\n    }\n  }, [searchValue]);\n\n  useEffect(() => {\n    setTodosFiltered(todos);\n  }, [todos]);\n\n  useEffect(() => {\n    setTotalTodos(todosFiltered.length);\n  }, [todosFiltered]);\n\n  return {\n    loading,\n    error,\n    totalTodos,\n    completedTodos,\n    searchValue,\n    setSearchValue,\n    todosFiltered,\n    setTodos,\n    openModal,\n    setOpenModal,\n    addTodos\n  };\n};\n\nexport { useTodos };\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}