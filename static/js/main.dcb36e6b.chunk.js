(this["webpackJsonpreactjs-todos-web"]=this["webpackJsonpreactjs-todos-web"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(1),c=n.n(o),r=n(6),a=n.n(r),s=(n(13),n(2)),i=n(3),u=n(4),l=n(8),d=n(7),j=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var o;Object(i.a)(this,n),(o=t.call(this)).storageName=e;var c=o.find();return o.save(c),o}return Object(u.a)(n,[{key:"save",value:function(e){localStorage.setItem(this.storageName,JSON.stringify(e))}},{key:"find",value:function(){var e=localStorage.getItem(this.storageName)||"[]";return JSON.parse(e)}}]),n}(function(){function e(){Object(i.a)(this,e)}return Object(u.a)(e,[{key:"save",value:function(e){throw new Error("Abstract Method has no implementation")}},{key:"find",value:function(){throw new Error("Abstract Method has no implementation")}},{key:"remove",value:function(e){throw new Error("Abstract Method has no implementation")}}]),e}()),f=function(e){var t=new j(e);return{save:function(e){try{t.save(e)}catch(n){throw n}},find:function(){try{return t.find()}catch(e){throw e}}}},h=n(0),O=c.a.createContext(),b=function(e){var t=Object(o.useState)(!0),n=Object(s.a)(t,2),c=n[0],r=n[1],a=Object(o.useState)(null),i=Object(s.a)(a,2),u=i[0],l=i[1],d=f("TODOS").find,j=Object(o.useState)(""),b=Object(s.a)(j,2),m=b[0],v=b[1],x=[];try{setTimeout((function(){r(!1)}),1e3),x=d()}catch(E){l(E)}var p=Object(o.useState)(x),g=Object(s.a)(p,2),w=g[0],S=g[1],T=Object(o.useState)(w),k=Object(s.a)(T,2),y=k[0],C=k[1],N=y.filter((function(e){return e.completed})).length,D=y.length;return Object(o.useEffect)((function(){console.log(m);var e=w.filter((function(e){return e.text.toLowerCase().includes(m)}));e.length!==y.length&&C(e)}),[m]),Object(o.useEffect)((function(){C(w)}),[w]),Object(h.jsx)(O.Provider,{value:{loading:c,error:u,totalTodos:D,completedTodos:N,searchValue:m,setSearchValue:v,todosFiltered:y,setTodos:S},children:e.children})},m=(n(15),function(){var e=Object(o.useContext)(O),t=e.totalTodos,n=e.completedTodos;return Object(h.jsxs)("h2",{className:"todo-counter",children:["You've completed ",n," of ",t," TODOs \u2705"]})}),v=(n(16),function(){var e=Object(o.useContext)(O),t=e.searchValue,n=e.setSearchValue;return Object(h.jsx)("input",{className:"todo-search",placeholder:"Search TODOs \ud83d\udcdd",value:t,onChange:function(e){n(e.target.value)}})}),x=(n(17),function(e){var t=e.children;return Object(h.jsx)("section",{children:Object(h.jsx)("ul",{children:t})})}),p=(n(18),function(e){var t=e.text,n=e.completed,o=e.onComplete,c=e.onDelete;return Object(h.jsxs)("li",{className:"todo-item",children:[Object(h.jsx)("span",{className:"icon icon-check ".concat(n&&"icon-check-active"),onClick:function(){return o(t,n)},children:"\u2705"}),Object(h.jsx)("p",{className:"todo-item-p ".concat(n&&"todo-item-p-complete"),children:t}),Object(h.jsx)("span",{className:"icon icon-delete",onClick:function(){return c(t)},children:"x"})]})}),g=function(e){return function(e){var t=e.todos,n=e.setTodos;return t?t.map((function(e){var o=f("TODOS").save;return Object(h.jsx)(p,{text:e.text,completed:e.completed,onComplete:function(e,c){alert("You complete the todo ".concat(e));var r=t.map((function(t){return t.text===e?{text:e,completed:!c}:t}));n(r),o(r)},onDelete:function(e){var c=t.filter((function(t){return t.text!==e}));console.log(c),n(c),o(c)}},e.text)})):""}(e)},w=(n(19),function(){return Object(h.jsx)("button",{className:"create-todo-button",type:"button",onClick:function(){return alert("Here should open the modal")},children:"+"})}),S=function(){return Object(h.jsxs)(o.Fragment,{children:[Object(h.jsx)(m,{}),Object(h.jsx)(v,{}),Object(h.jsx)(O.Consumer,{children:function(e){var t=e.loading,n=e.error,o=e.todosFiltered,c=e.setTodos;return Object(h.jsxs)(x,{children:[n&&Object(h.jsx)("p",{children:"Something was wrong"}),t&&Object(h.jsx)("p",{children:"Loading..."}),!t&&!o.length&&Object(h.jsx)("p",{children:"Create your first TODO"}),!t&&o&&Object(h.jsx)(g,{todos:o,setTodos:c})]})}}),Object(h.jsx)(w,{})]})},T=function(){return Object(h.jsx)(b,{children:Object(h.jsx)(S,{})})};a.a.render(Object(h.jsx)(T,{}),document.getElementById("root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.dcb36e6b.chunk.js.map