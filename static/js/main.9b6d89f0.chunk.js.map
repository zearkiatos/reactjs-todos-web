{"version":3,"sources":["Todos/Infrastructure/LocalStorageTodosRespository.js","Todos/Domain/TodosRepository.js","hooks/useTodosLocalStorageRepository/index.js","TodoContext/index.js","components/TodoCounter/index.js","components/TodoSearch/index.js","components/TodoList/index.js","components/TodoItem/index.js","components/TodoItems/index.js","components/CreateTodoButton/index.js","components/UI/index.js","components/App.js","index.js"],"names":["LocalStorageTodosRepository","storageName","todosStorage","find","save","todo","localStorage","setItem","this","JSON","stringify","todos","getItem","parse","Error","useTodosLocalStorageRepository","itemName","useState","loading","setLoading","error","setError","items","setItems","localStorageTodosRepository","findItems","ex","setTimeout","itemsFound","useEffect","saveItems","TodoContext","React","createContext","TodoProvider","props","searchValue","setSearchValue","setTodos","completedTodos","filter","completed","length","totalTodos","todosFiltered","text","toLowerCase","includes","Provider","value","children","TodoCounter","total","className","TodoSearch","placeholder","onChange","event","target","TodoList","TodoItem","onComplete","onDelete","onClick","TodoItems","map","alert","todoMapped","newTodos","console","log","renderTodoItems","CreateTodoButton","type","UI","Consumer","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9b6d89f0.chunk.js","sourcesContent":["import TodosRepository from \"../Domain/TodosRepository\";\nclass LocalStorageTodosRepository extends TodosRepository {\n    constructor(storageName) {\n        super()\n        this.storageName = storageName;\n        const todosStorage = this.find();\n        this.save(todosStorage);\n    }\n\n    save(todo) {\n        localStorage.setItem(this.storageName, JSON.stringify(todo));\n    }\n\n    find() {\n        const todos = localStorage.getItem(this.storageName) || '[]';\n        const todosParsed = JSON.parse(todos);\n        return todosParsed;\n    }\n}\n\nexport default LocalStorageTodosRepository;","class TodosRepository {\n  save(todo) {\n    throw new Error(\"Abstract Method has no implementation\");\n  }\n\n  find() {\n    throw new Error(\"Abstract Method has no implementation\");\n  }\n\n  remove(todo) {\n    throw new Error(\"Abstract Method has no implementation\");\n  }\n}\n\nexport default TodosRepository;\n","import { useState, useEffect } from \"react\";\nimport LocalStorageTodosRepository from \"../../Todos/Infrastructure/LocalStorageTodosRespository\";\n\nconst useTodosLocalStorageRepository = (itemName) => {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [items, setItems] = useState([]);\n  let localStorageTodosRepository = new LocalStorageTodosRepository(itemName);\n  const saveItems = (items) => {\n    try {\n      localStorageTodosRepository.save(items);\n    } catch (ex) {\n      setError(ex);\n    }\n  };\n\n  const findItems = () => {\n    let todos = [];\n    try {\n      todos = localStorageTodosRepository.find(items);\n    } catch (ex) {\n      setError(ex);\n    }\n    return todos;\n  };\n\n  setTimeout(() => {\n    const itemsFound = findItems();\n    setItems(itemsFound);\n    setLoading(false);\n  }, 5000);\n\n  useEffect(() => {\n    setItems(items)\n  }, [loading]);\n\n\n  return { items, findItems, saveItems, loading, error };\n};\n\nexport default useTodosLocalStorageRepository;\n","import React, { useState, useEffect } from \"react\";\nimport useTodosLocalStorageRepository from \"../hooks/useTodosLocalStorageRepository\";\n\nconst TodoContext = React.createContext();\n\nconst TodoProvider = (props) => {\n  const { items, loading, error } = useTodosLocalStorageRepository(\"TODOS\");\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [todos, setTodos] = useState(items);\n  const completedTodos = todos.filter((todo) => todo.completed).length;\n  const totalTodos = todos.length;\n  let todosFiltered = todos;\n\n  if (searchValue)\n    todosFiltered = items.filter((todo) =>\n      todo.text.toLowerCase().includes(searchValue)\n    );\n\n  return (\n    <TodoContext.Provider\n      value={{\n        loading,\n        error,\n        totalTodos,\n        completedTodos,\n        searchValue,\n        todosFiltered,\n        setSearchValue,\n        setTodos,\n      }}\n    >\n      {props.children}\n    </TodoContext.Provider>\n  );\n};\n\nexport { TodoContext, TodoProvider };\n","import React from \"react\";\nimport \"./todoCounter.css\";\n\nconst TodoCounter = ({ total, completed }) => {\n  return (\n    <h2 className=\"todo-counter\">\n      You've completed {completed} of {total} TODOs ✅\n    </h2>\n  );\n};\n\nexport default TodoCounter;\n","import React from \"react\";\nimport \"./todoSearch.css\";\nconst TodoSearch = ({\n  searchValue,\n  setSearchValue\n}) => {\n  const onSearchValueChange = (event) => {\n    setSearchValue(event.target.value);\n  };\n  return (\n    <input\n      className=\"todo-search\"\n      placeholder=\"Search TODOs 📝\"\n      value={searchValue}\n      onChange={onSearchValueChange}\n    />\n  );\n};\n\nexport default TodoSearch;\n","import \"./todoList.css\";\nconst TodoList = ({ children }) => {\n  return (\n    <section>\n      <ul>{children}</ul>\n    </section>\n  );\n};\n\nexport default TodoList;\n","import React from \"react\";\nimport \"./todoItem.css\";\nconst TodoItem = ({ text, completed, onComplete, onDelete }) => {\n  return (\n    <li className=\"todo-item\">\n      <span\n        className={`icon icon-check ${completed && \"icon-check-active\"}`}\n        onClick={() => onComplete(text, completed)}\n      >\n        ✅\n      </span>\n      <p className={`todo-item-p ${completed && \"todo-item-p-complete\"}`}>\n        {text}\n      </p>\n      <span\n        className=\"icon icon-delete\"\n        onClick={() => onDelete(text)}\n      >\n        x\n      </span>\n    </li>\n  );\n};\n\nexport default TodoItem;\n","import React from \"react\";\nimport TodoItem from \"../TodoItem\";\nimport useTodosLocalStorageRepository from '../../hooks/useTodosLocalStorageRepository';\n\nconst renderTodoItems = ({ todos, setTodos }) =>\n  todos\n    ? todos.map((todo) => {\n        const { saveItems } = useTodosLocalStorageRepository(\"TODOS\");\n        const onComplete = (text, completed) => {\n          alert(`You complete the todo ${text}`);\n          const todoMapped = todos.map((todo) =>\n            todo.text === text\n              ? {\n                  text,\n                  completed: !completed,\n                }\n              : todo\n          );\n          setTodos(todoMapped);\n          saveItems(todoMapped);\n        };\n\n        const onDelete = (text) => {\n          let newTodos = todos.filter((todo) => todo.text !== text);\n          console.log(newTodos);\n          setTodos(newTodos);\n          saveItems(newTodos);\n        };\n\n        return (\n          <TodoItem\n            key={todo.text}\n            text={todo.text}\n            completed={todo.completed}\n            onComplete={onComplete}\n            onDelete={onDelete}\n          />\n        );\n      })\n    : \"\";\n\nconst TodoItems = (props) => renderTodoItems(props);\n\nexport default TodoItems;\n","import React from \"react\";\nimport \"./createTodoButton.css\";\nconst CreateTodoButton = () => {\n  const onClick = () => alert('Here should open the modal');\n  return (\n    <button\n      className=\"create-todo-button\"\n      type=\"button\"\n      onClick={onClick}\n    >\n      +\n    </button>\n  );\n};\n\nexport default CreateTodoButton;\n","import React, { Fragment } from \"react\";\nimport TodoCounter from \"../TodoCounter\";\nimport TodoSearch from \"../TodoSearch\";\nimport TodoList from \"../TodoList\";\nimport TodoItems from \"../TodoItems\";\nimport CreateTodoButton from \"../CreateTodoButton\";\nimport { TodoContext } from \"../../TodoContext\";\n\nconst UI = () => {\n  return (\n    <TodoContext.Consumer>\n      {({\n        loading,\n        error,\n        totalTodos,\n        completedTodos,\n        searchValue,\n        todosFiltered,\n        setSearchValue,\n        setTodos\n      }) => (\n        <Fragment>\n          <TodoCounter total={totalTodos} completed={completedTodos} />\n          <TodoSearch\n            searchValue={searchValue}\n            setSearchValue={setSearchValue}\n          />\n          <TodoList>\n            {error && <p>Something was wrong</p>}\n            {loading && <p>Loading...</p>}\n            {!loading && !todosFiltered.length && <p>Create your first TODO</p>}\n            <TodoItems todos={todosFiltered} setTodos={setTodos} />\n          </TodoList>\n          <CreateTodoButton />\n        </Fragment>\n      )}\n    </TodoContext.Consumer>\n  );\n};\n\nexport default UI;\n","import React from 'react';\nimport { TodoProvider } from '../TodoContext';\nimport UI from './UI';\n\nconst App = () => {\n  return (\n    <TodoProvider>\n      <UI/>\n    </TodoProvider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <App />,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}